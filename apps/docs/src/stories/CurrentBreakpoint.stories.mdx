import { Canvas, Meta, Story } from "@storybook/addon-docs";

import { CurrentBreakpoint } from "@brahman-ui/react";

<Meta title="Current Breakpoint" component={CurrentBreakpoint} />

export const Template = (args) => <CurrentBreakpoint {...args} />;

# Current Breakpoint

Current Breakpoint is a component that shows the currently active Chakra UI breakpoint.

For more information about setting up breakpoints in Chakra UI see their [Default Theme docs](https://chakra-ui.com/docs/styled-system/theme#breakpoints).

## Import

```jsx
import { CurrentBreakpoint } from "@brahman-ui/react";
```

## Usage

<Canvas withSource="open">
  <Story
    name="Default"
    args={{
      boxProps: {
        display: "inline-block",
        position: "static",
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

Wrap it with `process.env.NODE_ENV === 'production'` so it's only displayed in development.

### Next.js

```jsx
import { ChakraBaseProvider } from "@chakra-ui/react";
import { CurrentBreakpoint } from "@brahman-ui/react";
import { __DEV__ } from "@chakra-ui/utils";

function MyApp({ Component, pageProps }) {
  return (
    <ChakraProvider>
      <Component {...pageProps} />
      {__DEV__ && <CurrentBreakpoint />}
    </ChakraProvider>
  );
}
```

## Styling

`CurrentBreakpoint` composes Chakra UI [`Box`](https://chakra-ui.com/docs/components/box/usage) so the styles are easily overwritten using the `boxProps` prop.

The default props passed to `Box` are as follows:

```jsx
<Box
  position="fixed"
  left={4}
  bottom={4}
  bg="gray.200"
  px={4}
  py={2}
  rounded="full"
  fontSize="sm"
  fontWeight="semibold"
  zIndex="overlay"
/>
```

To overwrite them, use the `boxProps` prop as follows:

```jsx
<CurrentBreakpoint
  boxProps={{
    bg: "red.500",
    color: "white",
  }}
/>
```

<Canvas withSource="open">
  <Story
    name="Custom style"
    args={{
      boxProps: {
        display: "inline-block",
        position: "static",
        bg: "red.500",
        color: "white",
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Custom transform

By default the `CurrentBreakpoint` renders the breakpoint name. You can pass a custom function as the `transformFn` prop to overwrite that.

```jsx
<CurrentBreakpoint transformFn={(name, value) => `${name} (${value})`} />
```

<Canvas withSource="open">
  <Story
    name="Custom transform"
    args={{
      boxProps: {
        display: "inline-block",
        position: "static",
      },
      transformFn: (name, value) => `${name} (${value})`,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
